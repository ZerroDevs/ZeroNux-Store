<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุญุณุงุจู - ูุชุฌุฑ ุฒูุฑูููุณ</title>
    <link rel="icon" type="image/png" href="https://assets.zeronux.store/Logo.png">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;500;600;700&family=Cairo:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="Style/index.css">
    <link rel="stylesheet" href="Style/secondary.css">
    <link rel="stylesheet" href="Style/profile.css">
</head>

<body>

    <!-- Loading -->
    <div id="loading-overlay">
        <div class="spinner"
            style="width: 40px; height: 40px; border: 3px solid rgba(255,255,255,0.1); border-top-color: var(--primary); border-radius: 50%; animation: spin 1s linear infinite;">
        </div>
        <p style="color: rgba(255,255,255,0.6); margin-top: 20px;">ุฌุงุฑู ุชุญููู ุญุณุงุจู...</p>
    </div>

    <!-- Header -->

    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="dashboard-sidebar">
            <div class="user-mini-profile">
                <div class="user-avatar-large" id="sidebar-avatar">?</div>
                <h3 class="user-name" id="sidebar-name">...</h3>
                <p class="user-email" id="sidebar-email">...</p>
            </div>

            <nav class="dashboard-nav">
                <div class="nav-item active" data-tab="overview">
                    <span>๐</span> ูุธุฑุฉ ุนุงูุฉ
                </div>
                <div class="nav-item" data-tab="profile">
                    <span>๐ค</span> ุงูููู ุงูุดุฎุตู
                </div>
                <div class="nav-item" data-tab="orders">
                    <span>๐ฆ</span> ุทูุจุงุชู <span id="nav-order-count"
                        style="margin-right: auto; background: rgba(255,255,255,0.1); padding: 2px 8px; border-radius: 10px; font-size: 0.8rem;">0</span>
                </div>
                <div class="nav-item" data-tab="wishlist">
                    <span>โค๏ธ</span> ุงููุงุฆูุฉ ุงูููุถูุฉ
                </div>
                <div class="nav-item" id="logout-btn-sidebar" style="color: #ff4444;">
                    <span>๐ช</span> ุชุณุฌูู ุงูุฎุฑูุฌ
                </div>
            </nav>
        </aside>

        <!-- Content -->
        <main class="dashboard-content">

            <!-- 1. Overview Tab -->
            <div class="tab-panel active" id="tab-overview">
                <h2 style="color: white; margin-bottom: 25px;">๐ ูุฑุญุจุงูุ <span id="welcome-name"></span></h2>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon" style="color: #4caf50;">๐ฐ</div>
                        <div class="stat-info">
                            <h3 id="stat-total-spent">0 ุฏ.ู</h3>
                            <p>ูุฌููุน ุงููุดุชุฑูุงุช</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="color: #2196f3;">๐ฆ</div>
                        <div class="stat-info">
                            <h3 id="stat-total-orders">0</h3>
                            <p>ุฅุฌูุงูู ุงูุทูุจุงุช</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon" style="color: #f5576c;">โค๏ธ</div>
                        <div class="stat-info">
                            <h3 id="stat-wishlist-count">0</h3>
                            <p>ูู ุงูููุถูุฉ</p>
                        </div>
                    </div>
                </div>

                <div
                    style="background: rgba(30,30,50,0.6); padding: 25px; border-radius: 16px; border: 1px solid rgba(255,255,255,0.08);">
                    <h3 style="color: white; margin-bottom: 15px; font-size: 1.1rem;">๐ ุขุฎุฑ ุทูุจ</h3>
                    <div id="latest-order-preview">
                        <p style="color: rgba(255,255,255,0.5);">ูุง ุชูุฌุฏ ุทูุจุงุช ุญุฏูุซุฉ.</p>
                    </div>
                </div>
            </div>

            <!-- 2. Profile Tab -->
            <div class="tab-panel" id="tab-profile">
                <h2 style="color: white; margin-bottom: 25px;">๐ค ุชุนุฏูู ุงูููู ุงูุดุฎุตู</h2>
                <div class="profile-form-card">
                    <form id="profile-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label>ุงูุงุณู ุงููุงูู</label>
                                <input type="text" id="p-name" required>
                            </div>
                            <div class="form-group">
                                <label>ุฑูู ุงููุงุชู</label>
                                <input type="tel" id="p-phone" required>
                            </div>
                            <div class="form-group">
                                <label>ุงููุฏููุฉ</label>
                                <input type="text" id="p-city">
                            </div>
                            <div class="form-group">
                                <label>ุงูุนููุงู ุจุงูุชูุตูู</label>
                                <input type="text" id="p-address">
                            </div>
                        </div>

                        <div class="form-group" style="margin-top: 25px;">
                            <label>ุงูุจุฑูุฏ ุงูุฅููุชุฑููู</label>
                            <input type="email" id="p-email" disabled>
                        </div>

                        <div class="form-group" style="margin-top: 25px;">
                            <label>ููุงุญุธุงุช ุงูุชูุตูู</label>
                            <textarea id="p-notes" rows="3"></textarea>
                        </div>

                        <div class="action-buttons">
                            <button type="submit" class="save-btn" id="save-btn">๐พ ุญูุธ ุงูุชุบููุฑุงุช</button>
                        </div>

                        <div class="password-section">
                            <div>
                                <h3 style="color: white; font-size: 1.1rem; margin-bottom: 5px;">๐ ูููุฉ ุงููุฑูุฑ</h3>
                                <p style="color: rgba(255,255,255,0.5); font-size: 0.9rem;">ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ ุนุจุฑ
                                    ุงูุจุฑูุฏ</p>
                            </div>
                            <button type="button" id="change-pass-btn" class="invoice-btn">ุชุบููุฑ ูููุฉ ุงููุฑูุฑ</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- 3. Orders Tab -->
            <div class="tab-panel" id="tab-orders">
                <h2 style="color: white; margin-bottom: 25px;">๐ฆ ุณุฌู ุงูุทูุจุงุช</h2>
                <div id="orders-list-container">
                    <div style="text-align: center; padding: 40px; color: rgba(255,255,255,0.5);">
                        <p>ุฌุงุฑู ุชุญููู ุงูุทูุจุงุช...</p>
                    </div>
                </div>
            </div>

            <!-- 4. Wishlist Tab -->
            <div class="tab-panel" id="tab-wishlist">
                <h2 style="color: white; margin-bottom: 25px;">โค๏ธ ุงูููุชุฌุงุช ุงูููุถูุฉ</h2>
                <div id="wishlist-container" class="wishlist-grid">
                    <!-- Wishlist items injected here -->
                </div>
                <div id="wishlist-empty"
                    style="display: none; text-align: center; padding: 50px; color: rgba(255,255,255,0.5);">
                    <p>ุงููุงุฆูุฉ ุงูููุถูุฉ ูุงุฑุบุฉ ๐</p>
                </div>
            </div>

        </main>
    </div>

    <div id="main-footer"></div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

    <script src="Scripts/firebase-config.js"></script>
    <script src="Scripts/header.js"></script>
    <script src="Scripts/footer.js"></script>
    <script src="Scripts/admin-invoice.js"></script>

    <!-- App Logic -->
    <script src="Scripts/user-profile.js"></script>
    <script src="Scripts/cart.js"></script>
    <script src="Scripts/app.js"></script>
    <script src="Scripts/profile.js"></script>

</body>

</html>